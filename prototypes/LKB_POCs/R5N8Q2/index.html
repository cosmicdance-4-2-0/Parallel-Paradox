<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PhaseCube Redux — Delta R5N8Q2</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #050507;
      --panel: rgba(10, 10, 18, 0.75);
      --accent: #6ee7ff;
      --accent-2: #c084fc;
      --text: #f8fafc;
      --muted: #94a3b8;
      --border: #1f2937;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: radial-gradient(circle at 20% 20%, #0b0b14, #050507 40%),
                  radial-gradient(circle at 80% 30%, #0d0d1a, #050507 45%),
                  #050507;
      color: var(--text);
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      overflow: hidden;
    }
    header, footer {
      padding: 12px 16px;
      background: var(--panel);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }
    header h1 {
      margin: 0;
      font-size: 18px;
      letter-spacing: 0.03em;
    }
    header small {
      color: var(--muted);
    }
    #hud {
      position: fixed;
      top: 12px;
      right: 12px;
      width: 280px;
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      display: grid;
      gap: 8px;
      backdrop-filter: blur(8px);
    }
    #hud h2 {
      margin: 0 0 4px 0;
      font-size: 14px;
      color: var(--muted);
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }
    #controls {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 8px;
    }
    button {
      padding: 8px 10px;
      background: var(--border);
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s;
    }
    button:hover { background: #111827; border-color: #1f2937; }
    button:active { background: #0f172a; }
    .accent { border-color: var(--accent); color: var(--accent); }
    .accent:hover { background: rgba(110,231,255,0.12); }
    label { display: grid; gap: 4px; font-size: 13px; color: var(--muted); }
    input[type=range] { width: 100%; }
    #view {
      width: 100%; height: 100%; display: block;
      background: transparent;
    }
    footer { font-size: 12px; color: var(--muted); border-top: 1px solid var(--border); }
    .row { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
  </style>
</head>
<body>
  <header>
    <h1>PhaseCube Redux <small>DeltaID: <span id="delta-id"></span></small></h1>
  </header>
  <canvas id="view"></canvas>
  <div id="hud">
    <h2>Controls</h2>
    <div id="controls">
      <button id="start-btn" class="accent">Start</button>
      <button id="pause-btn">Pause</button>
      <button id="save-btn">Save PNG</button>
      <button id="mic-btn">Mic Bias</button>
    </div>
    <div class="row"><span id="mic-status">Mic: inactive</span><span id="fps">-- fps</span></div>
    <label>Bias Weight <input id="bias-slider" type="range" min="0" max="1" step="0.01"></label>
    <label>Harmonic Weight <input id="harmonic-slider" type="range" min="0" max="1" step="0.01"></label>
    <label>Trace Blend <input id="trace-slider" type="range" min="0" max="0.5" step="0.01"></label>
    <div class="row" style="justify-content:flex-start; gap:4px; flex-wrap: wrap;">
      <small>Hints: drag to rotate · Space to pause · S to save · Mic falls back gracefully</small>
    </div>
  </div>
  <footer>
    Minimal, tunable, non-collapse swarm mind — leave room to grow. TODO: Add multi-grid view.
  </footer>
  <script type="module" src="./config.js"></script>
  <script type="module" src="./utils.js"></script>
  <script type="module" src="./grid.js"></script>
  <script type="module" src="./input-layer.js"></script>
  <script type="module" src="./renderer.js"></script>
  <script type="module" src="./controls.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>
